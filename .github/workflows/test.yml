name: tests
on: [push]
jobs:
  bootstrap:
    runs-on: macos-latest
    steps:
    - uses: actions/checkout@v1
    - name: Link to home
      run: ln -s "$PWD" "$HOME/.dotfiles"
    - name: Remove conflicts
      run: |-
        rm "$(which aws)"
        rm "$(which aws_completer)"
    - name: Bootstrap
      run: ./scripts/bootstrap
  shellcheck:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v1
      - uses: ludeeus/action-shellcheck@1.0.0
        env:
          SHELLCHECK_OPTS: -e SC1071
