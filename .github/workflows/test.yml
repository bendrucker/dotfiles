name: tests
on: [push]
jobs:
  bootstrap:
    runs-on: macos-latest
    steps:
    - uses: actions/checkout@v1
    - name: Link to home
      run: ln -s "$PWD" "$HOME/.dotfiles"
    - name: Move existing /usr/local/bin
      run: |-
        sudo mv /usr/local/bin /usr/local/gh-bin
        export PATH="$PATH:/usr/local/gh-bin"
    - name: Bootstrap
      run: ./scripts/bootstrap
  shellcheck:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v1
      - uses: ludeeus/action-shellcheck@1.0.0
        env:
          SHELLCHECK_OPTS: -e SC1071
